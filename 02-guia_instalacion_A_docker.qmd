# Guía de Instalación. Opción A: Docker (Python, R, Julia) {#sec-guia_A}

## Introducción

Para garantizar un entorno de análisis SIG reproducible y políglota, utilizaremos la orquestación de contenedores con Docker [@docker2025]. Este enfoque permite ejecutar, de forma aislada y coordinada, tanto el motor de procesamiento como el servidor de datos.

Esta guía establece un entorno de **reproducibilidad científica**. Utilizaremos una arquitectura híbrida: **VSCode** como editor local [@vscode2026] y **Docker** como laboratorio de ejecución [@docker2025]. Esta aproximación garantiza que todos los estudiantes operen bajo las mismas versiones de motores geoespaciales (GDAL, GEOS, PROJ), eliminando el problema de "en mi computador no funciona".

Este documento detalla el procedimiento actualizado para la instalación de las herramientas Docker del curso utilizando un método **offline**. Este método es ideal para entornos con conexión limitada y garantiza la homogeneidad del software.



## Preparación de herramientas en equipo local

Para preparar su equipo de trabajo, instale las siguientes herramientas básicas:

1.  **VSCode IDE**: En @sec-anexo_vscode encontrará el proceso de instalación y las principales extensiones (@sec-extensiones-vscode) necesarias a instalar en VSCode.
3.  **Docker Desktop**: En @sec-anexo_docker encontrará la guía de instalación y el proceso de configuración previo (@sec-preparacion_docker) para garantizar un funcionamiento óptimo. 

> Importante: Antes de la instalación, siga el procedimiento descrito en @sec-preparacion_docker.


## Limpieza del entorno (opcional pero recomendado)

Ver @sec-limpieza_entorno.

## Descarga y preparación de archivos

Ver @sec-descarga_tar_yml.

## Instalación de las imágenes (maquinas virtuales)

Ubique los archivos en una carpeta local que cumpla con los siguientes requisitos:

- **No** estar dentro de carpetas sincronizadas (OneDrive, Dropbox, etc.).
- Que la ruta (**path**) no contenga espacios, tildes ni caracteres especiales.
- Que sea preferiblemente una **ruta corta**.
- Evite carpetas temporales o de sistema como **Descargas** o **Temp**.

Dentro de la carpeta deben existir los archivos descargados en el paso anterior:
   - `sig_unal_completo.tar` (El archivo de la imagen).
   - `docker-compose.yml` (El archivo de orquestación contenido en la descarga).

Este procedimiento instalará dos imágenes (una con la base de datos espacial y otra con Python, R y Julia) y configurará una red interna para comunicar su máquina anfitriona (Windows) con las dos máquinas virtuales Linux.

Desde una terminal situada en dicha carpeta, ejecute:

```bash
docker load -i sig_unal_completo.tar
```

> **Nota**: El terminal quedará en modo de espera sin enviar mensajes hasta que termine. El proceso suele tardar unos 20 minutos, pero puede extenderse a más de una hora según su hardware. **No interrumpa el proceso**.

* **Paciencia**: El comando de carga es pesado. Si el proceso falla, el sistema enviará un mensaje de error; de lo contrario, simplemente espere a que la terminal le devuelva el control. No olvide limpiar el entorno para intentar nuevamente en caso de fallos en el proceso. 

## Puesta en marcha

Una vez terminada la carga (`load`), inicie los servicios desde la misma carpeta con:

```bash
docker compose up -d
```

Si la ejecución es exitosa, verá un mensaje confirmando el inicio de:
- Red: `final_default`
- Contenedor: `contenedor_postgis_unal` (basado en la imagen `postgis_unal:final`)
- Contenedor: `contenedor_sig_unal` (basado en la imagen `image_sig_unal:final`)

## Iniciar contenedores 

Ver @sec-arrancar_detener_contenedores

## Cargar contenedores en VSCode

Ver @sec-cargar_contenedores_vscode.

## Apagar los contenedores

Ver @sec-arrancar_detener_contenedores.

## Contenido de los contenedores

Ver @sec-contenedores_instalados.

