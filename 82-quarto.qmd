# Quarto: Orquestaci√≥n y Configuraci√≥n {#sec-anexo_quarto}

Quarto se basa en un archivo de configuraci√≥n centralizado donde se definen los par√°metros de renderizado, bibliograf√≠a y estilos.

## Opciones del encabezado `yml`

**Ejemplo 1**: Solo HTML

```markdown
---
title: "T√≠tulo de la Pr√°ctica"
author: "Nombre del Estudiante"
date: last-modified
format:
  html:
    toc: true
    toc-depth: 3
    toc-location: left
    number-sections: true
    theme: lux
---
```

**Ejemplo 2**: HTML y Python

```markdown
---
title: "Informe T√©cnico: An√°lisis Geoespacial"
author: "ID Correo UNAL"
date: today
format:
  html:
    toc: true
    number-sections: true
    theme: cosmo
  pdf:
    toc: true
    toc-title: "Contenido"
    number-sections: true
    documentclass: scrreprt
    geometry:
      - top=25mm
      - left=25mm
      - right=25mm
      - bottom=25mm
---
```

## Resumen de comandos Quarto

Renderizar todos los formatos definidos en el encabezado `yml`:

```bash
quarto render archivo.qmd --to all
```

Renderizar a HTML:

```bash
quarto render archivo.qmd --to html
```

Renderizar a PDF:

```bash
quarto render archivo.qmd --to pdf
```

Renderizar a PDF, mostrando todos los detalles en la consola:

```bash
quarto render archivo.qmd --to pdf --trace --verbose`
```

Chequear estado de instalaci√≥n de Quarto

```bash
quarto check
```

## Control de ejecuci√≥n en Quarto - opciones de `chunks` {#sec-opciones-chunks}

Para que sus informes t√©cnicos sean profesionales, no basta con que el c√≥digo funcione; es necesario controlar qu√© se muestra y qu√© se oculta al lector final. En Quarto, esto se logra mediante el uso de "opciones de chunk" utilizando la sintaxis de la tuber√≠a de comentarios (`#|`).

| Opci√≥n de Chunk | ¬øSe ejecuta? | ¬øMuestra el C√≥digo? | ¬øMuestra Resultados / Plots? | Uso Ideal |
|:--- |:---:|:---:|:---:|:--- |
| **`#| echo: false`** | ‚úÖ S√ç | ‚ùå NO | ‚úÖ S√ç | **Para Resultados Finales.** Muestra el mapa/tabla sin la "receta". |
| **`#| include: false`** | ‚úÖ S√ç | ‚ùå NO | ‚ùå NO | **Para el Setup.** Corre todo en secreto, sin mensajes ni advertencias. |
| **`#| code-fold: true`** | ‚úÖ S√ç | üìÇ Plegado | ‚úÖ S√ç | **Para el Proceso.** El c√≥digo se oculta tras un bot√≥n "Code". |
| **`#| eval: false`** | ‚ùå NO | ‚úÖ S√ç | ‚ùå NO | **Para Tutoriales.** Solo muestra el texto del c√≥digo sin procesarlo. |
| **`#| output: false`** | ‚úÖ S√ç | ‚úÖ S√ç | ‚ùå NO | **Para Debugging.** Ves su c√≥digo pero no los resultados pesados. |
| **`#| warning: false`** | ‚úÖ S√ç | - | - | Oculta esos textos naranjas de advertencia de las librer√≠as. |
| **`#| message: false`** | ‚úÖ S√ç | - | - | Oculta mensajes de carga (ej: "Loading terra package..."). |


### Recomendaciones de uso seg√∫n el contexto

Dependiendo de la parte del script en la que se encuentre, existen configuraciones que garantizan un documento m√°s limpio y fluido:

| Tipo de Chunk | Opci√≥n recomendada | ¬øPor qu√©? |
|:--- |:--- |:--- |
| **Setup / Librer√≠as** | `#| include: false` | Ejecuta todo pero oculta el c√≥digo y los mensajes de carga de R/Julia/Python. |
| **Limpieza de RAM** | `#| include: false` | Borra objetos y vac√≠a el cache en silencio. El lector no necesita ver la "limpieza". |
| **Procesamiento** | `#| code-fold: true` | Muestra el mapa pero esconde el c√≥digo tras un clic. Ideal para transparencia acad√©mica. |
| **Resultados Finales** | `#| echo: false` | Muestra solo la tabla comparativa y conclusiones. Es el "veredicto" limpio y profesional. |

::: {.callout-tip}
#### Sintaxis Correcta
Recuerde que las opciones deben ir al inicio del chunk, justo despu√©s de los corchetes del lenguaje:
```r
#| echo: false
#| warning: false
library(terra)
# Su c√≥digo aqu√≠...
```
:::

## Instalaci√≥n de Extensiones de Quarto

Las extensiones permiten ampliar las funcionalidades nativas de Quarto, a√±adiendo nuevos formatos de salida, filtros personalizados o librer√≠as de componentes visuales. Para que el proceso de descarga desde repositorios remotos sea exitoso y seguro, es fundamental haber completado previamente la configuraci√≥n descrita en la @sec-ssh-linux.


### El proceso de instalaci√≥n

Para agregar una extensi√≥n a tu proyecto, Quarto utiliza el comando `add` seguido del identificador del repositorio (usualmente `usuario/repositorio`). Este proceso descarga los archivos necesarios dentro de una carpeta local denominada `_extensions/`.

#### Ejemplo pr√°ctico: Librer√≠a de iconos FontAwesome

Como caso de estudio, instalaremos la extensi√≥n oficial para el uso de iconos vectoriales. Ejecuta el siguiente comando en tu terminal:

```bash
quarto add quarto-ext/fontawesome
```

::: {.callout-note}
#### Confianza del Autor
Al ejecutar el comando, el sistema solicitar√° confirmar si conf√≠as en los autores de la extensi√≥n. Escribe `Y` para permitir que Quarto gestione los archivos del filtro en tu directorio de trabajo.
:::

### Gesti√≥n de archivos del proyecto

Una vez finalizada la instalaci√≥n, notar√°s que en la ra√≠z de tu proyecto se ha creado la siguiente estructura:

```text
mi-proyecto/
‚îú‚îÄ‚îÄ _extensions/
‚îÇ   ‚îî‚îÄ‚îÄ quarto-ext/
‚îÇ       ‚îî‚îÄ‚îÄ fontawesome/
‚îî‚îÄ‚îÄ tu-archivo.qmd
```

Es importante **no modificar manualmente** los archivos dentro de la carpeta `_extensions`, ya que Quarto los requiere para procesar el documento final durante el renderizado.


### Aplicaci√≥n en el documento

Tras la instalaci√≥n exitosa, puedes utilizar las nuevas funcionalidades mediante *shortcodes*. En el caso de nuestra extensi√≥n de ejemplo, ahora es posible insertar iconos de la siguiente manera:

```quarto
Para este an√°lisis utilizaremos:

* {{< fa satellite >}} Datos satelitales.
* {{< fa location-dot color="red" >}} Puntos de control terrestre.
```

::: {.callout-tip}
#### Actualizaci√≥n de extensiones
Si en el futuro deseas actualizar una extensi√≥n instalada a su √∫ltima versi√≥n, simplemente vuelve a ejecutar el mismo comando `quarto add`. El sistema detectar√° la versi√≥n existente y te preguntar√° si deseas sobrescribirla.
:::
