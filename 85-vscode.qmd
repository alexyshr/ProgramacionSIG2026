# Visual Studio Code: Extensiones e Interfaz {#vscode-ref}

## Atajos 

### La Paleta de Comandos VSCode {#sec-command-palette}

La mayoría de las funciones avanzadas de VS Code no tienen un botón visible. Se acceden mediante la **Paleta de Comandos** presionando `Ctrl + Shift + P`. A continuación, los comandos más utilizados en este curso:

| Comando (Command Palette) | Propósito | ¿Cuándo usarlo? |
| :--- | :--- | :--- |
| **`Developer: Reload Window`** | Reinicia la interfaz de VS Code sin cerrar el contenedor. | Cuando una extensión (como la de R o Julia) deja de responder. |
| **`Dev Containers: Rebuild Container`** | Reconstruye la imagen desde el Dockerfile. | Cuando se realizan cambios en la configuración del entorno. |
| **`Quarto: Preview`** | Abre una ventana lateral con la previsualización del documento. | Para ver los cambios en el `.qmd` en tiempo real. |
| **`R: Create R terminal`** | Fuerza la apertura de una nueva consola de R vinculada. | Si el prompt `>` no aparece automáticamente. |
| **`Julia: Start REPL`** | Inicia la consola interactiva de Julia. | Al abrir el contenedor por primera vez para ejecutar código Julia. |
| **`Python: Select Interpreter`** | Permite elegir la versión de Python del contenedor. | Si VS Code no detecta automáticamente `/usr/bin/python3`. |
| **`PostgreSQL: New Query`** | Abre un editor SQL en blanco. | Para realizar consultas a la base de datos espacial. |
| **`Git: Pull` / `Git: Push`** | Sincroniza cambios con GitHub. | Para actualizar el repositorio de la clase o subir tareas. |

::: {.callout-important}
#### El comando de "Primer Auxilio"
Si notas que el autocompletado desaparece o que los gráficos no cargan en **httpgd**, el primer paso siempre es ejecutar **`Developer: Reload Window`**. Esto refresca todas las conexiones de las extensiones con el contenedor sin interrumpir los procesos que Docker está ejecutando de fondo.
:::

### Atajos de Teclado Rápidos VSCode

Además de la paleta, memorice estos tres para su flujo diario:
* **`Ctrl + Shift + ` ` `** (acento grave): Abre una nueva Terminal.
* **`Ctrl + Enter`**: Envía la línea de código actual desde el editor al REPL (R, Julia o Python).
* **`Ctrl + Shift + V`**: Previsualiza archivos Markdown (.md) de forma rápida.

### Atajos de Teclado Jupyter Notebook

| Acción | Atajo (Esc Mode) |
| :--- | :--- |
| Ejecutar Celda | `Ctrl + Enter` |
| Ejecutar y pasar a la siguiente | `Shift + Enter` |
| Convertir a Markdown | `M` |
| Convertir a Código | `Y` |
| Crear celda arriba / abajo | `A` / `B` |


## Configuración de Extensiones en VSCode {#sec-extensiones-vscode}

Para que el entorno de desarrollo sea plenamente funcional, es necesario instalar un conjunto de extensiones específicas. Una vez que haya realizado el proceso de **"Attach to Running Container"**, asegúrese de que estas herramientas estén instaladas **dentro del contenedor** (busque el botón azul *Install in Dev Container* en la pestaña de extensiones).

| Categoría | Herramienta | Propósito | ID de la Extensión |
|:--- |:--- |:--- |:--- |
| **Infraestructura** | **Dev Containers** | Conexión y gestión del contenedor activo | `ms-vscode-remote.remote-containers` |
| | **Docker / Container Tools** | Control de imágenes y recursos del contenedor | `ms-azuretools.vscode-docker` |
| **Ecosistema R** | **R (REditorSupport)** | Soporte de sintaxis, LSP y terminal de R | `REditorSupport.r` |
| | **R Debugger & Tools** | Depuración de scripts y herramientas de desarrollo | `RDebugger.r-debugger` |
| | **R Extension Pack** | Pack de utilidades (por Yuki Ueda) | `yukiueda.r-extension-pack` |
| **Ecosistema Python** | **Python (Microsoft)** | IntelliSense (Pylance) y depuración avanzada | `ms-python.python` |
| | **Python Debugger** | Motor de depuración específico para Python | `ms-python.debugpy` |
| | **Jupyter (Microsoft)** | Soporte para Notebooks e interactividad nativa | `ms-toolsai.jupyter` |
| **Ecosistema Julia** | **Julia** | Soporte integral para ejecución y gráficos | `julialang.language-julia` |
| **Base de Datos** | **PostgreSQL** | Cliente para explorar la DB (Chris Kolkman) | `ckolkman.vscode-postgres` |
| | **psql** | Herramienta de consulta SQL (doublefint) | `doublefint.psql` |
| **Publicación** | **Quarto** | Renderizado y preview de archivos `.qmd` | `quarto.quarto` |
| **Versión** | **GitHub Repositories** | Manejo de archivos remotos sin clonar todo | `github.remotehub` |

: Extensiones de VS Code para el entorno de Geomática y Programación SIG {#tbl-extensiones}

### Notas sobre herramientas específicas

* **PostgreSQL (Chris Kolkman)**: Esta extensión le permitirá conectarse a la base de datos espacial del contenedor sin salir de VS Code. Podrá ejecutar queries SQL y visualizar tablas directamente.
* **Jupyter Ecosystem**: Incluimos el *Jupyter Keymap* para aquellos acostumbrados a los atajos de teclado de Jupyter Notebooks. Esto facilita la transición al trabajar con kernels de Python dentro de Quarto.
* **Sobre `psql`**: La herramienta de línea de comandos `psql` ya viene preinstalada **dentro del sistema operativo del contenedor** (PostgreSQL Client). No requiere una extensión adicional para funcionar en la terminal.

::: {.callout-important}
#### Instalación Local vs. Remota
Recuerde que extensiones como **Dev Containers** y **Docker** deben estar instaladas en su VS Code **local** (en Windows), mientras que las de análisis (R, Python, Julia, PostgreSQL) deben estar instaladas **dentro de la sesión del contenedor** para acceder a los compiladores y librerías de la imagen.
:::


::: {.callout-note}
#### Soporte del Lenguaje en R
Para que el autocompletado y la documentación en tiempo real funcionen, el contenedor requiere el paquete `languageserver`. Aunque la imagen ya lo incluye por defecto, si nota que el resaltado de sintaxis falla, puede reinstalarlo ejecutando:
`install.packages("languageserver")` en su consola de R.
:::

## Verificación de Conectividad

Una vez instaladas las extensiones, verifique que su entorno esté correctamente configurado siguiendo estos puntos:

* **Estado del Contenedor**: En la esquina inferior izquierda de VS Code, debe aparecer un recuadro azul con el texto: **Dev Container: contenedor_sig_unal**.
* **Activación de Kernels**: Al abrir un archivo `.qmd`, en la esquina superior derecha debe poder seleccionar el kernel deseado (R, Python 3 o Julia).
* **Terminal Unificada**: Al abrir una nueva terminal (`Ctrl + Shift + ` ` `), la línea de comandos debe estar identificada como `rstudio@contenedor_sig_unal:/home/rstudio/work$`.

::: {.callout-tip}
### Sincronización Automática
Recuerde que cualquier cambio que realice en la configuración de estas extensiones mientras esté conectado al contenedor se guardará en su perfil local de VS Code, facilitando las conexiones futuras.
:::
